# frozen_string_literal: true

require "pry"
# require 'json'
require "awesome_print"

# class for grupping digits
module Format
  def self.group_digits(number)
    number.to_s.reverse.scan(/.{1,3}/).join(" ").reverse
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –∏–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–º–∞ - 500 —Ç—ã—Å—è—á –¥–æ–ª–ª–∞—Ä–æ–≤. –ß–µ–ª–æ–≤–µ–∫ –±–µ—Ä–µ—Ç –¥–æ–º –≤
# —Ä–∞—Å—Å—Ä–æ—á–∫—É –Ω–∞ 30 –ª–µ—Ç. –ß—Ç–æ–±—ã –≤—ã–ø–ª–∞—Ç–∏—Ç—å –¥–æ–º –∑–∞ 30 –ª–µ—Ç, –Ω—É–∂–Ω–æ –ø–ª–∞—Ç–∏—Ç—å 16666 –¥–æ–ª–ª–∞—Ä–æ–≤ –≤ –≥–æ–¥
# (—ç—Ç–æ –ª–µ–≥–∫–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å, —Ä–∞–∑–¥–µ–ª–∏–≤ 500 —Ç—ã—Å—è—á –Ω–∞ 30). –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –¥–ª—è
# –∫–∞–∂–¥–æ–≥–æ –≥–æ–¥–∞ –≤—ã–≤–æ–¥–∏—Ç —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é –æ—Å—Ç–∞–ª–æ—Å—å –≤—ã–ø–ª–∞—Ç–∏—Ç—å.
#
# –ó–∞–¥–∞–Ω–∏–µ: –∏–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏:
# —á–µ–ª–æ–≤–µ–∫ –±–µ—Ä–µ—Ç –¥–æ–º –Ω–µ –≤ —Ä–∞—Å—Å—Ä–æ—á–∫—É, –∞ –≤ –∫—Ä–µ–¥–∏—Ç –ø–æ —Å—Ç–∞–≤–∫–µ 4% –≥–æ–¥–æ–≤—ã—Ö –Ω–∞ –æ—Å—Ç–∞–≤—à—É—é—Å—è —Å—É–º–º—É.
# –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ–¥–∞ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ, —Å–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –Ω—É–∂–Ω–æ –∑–∞–ø–ª–∞—Ç–∏—Ç—å –∑–∞ —ç—Ç–æ—Ç –≥–æ–¥ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
# –∫—Ä–µ–¥–∏—Ç–∞.
#
# –ó–∞–¥–∞–Ω–∏–µ: –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–Ω–µ–≥ (total), –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∑–∞–ø–ª–∞—Ç–∏–º —Ç–æ–ª—å–∫–æ –≤ –≤–∏–¥–µ
# –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –ø–æ –∫—Ä–µ–¥–∏—Ç—É –∑–∞ 30 –ª–µ—Ç.
#
module BlocksNParameters
  def self.annual_payment
    puts "–í–≤–µ–¥–∏—Ç–µ –≥–æ–¥ –ø–æ–∫—É–ø–∫–∏ –¥–æ–º–∞ –≤ —Ä–∞—Å—Å—Ä–æ—á–∫—É"
    year = gets.to_i
    # year = 2023
    # puts year
    sum = 500_000.to_f
    annual_payment = (sum / 30).round
    paid_total = 0
    credit_sum_total = 0
    30.times do |i|
      left_to_pay = (sum - ((i + 1) * annual_payment))
      credit_sum = (left_to_pay * 0.04)
      credit_sum_total += credit_sum
      break if left_to_pay.negative?

      paid_total += annual_payment
      puts format(
             "–í %d –≥–æ–¥—É –æ—Å—Ç–∞–ª–æ—Å—å –≤—ã–ø–ª–∞—Ç–∏—Ç—å $ %8s, –≤—ã–ø–ª–∞—á–µ–Ω–æ $ %8s, –ø–æ –∫—Ä–µ–¥–∏—Ç—É 4%% –Ω–∞ –æ—Å—Ç. —Å—É–º–º—É $ %8s",
             year + i,
             Format.group_digits(left_to_pay.to_i),
             Format.group_digits(paid_total),
             Format.group_digits(credit_sum.to_i)
           )
    end
    puts "=" * 80
    puts format(
           "–ò—Ç–æ–≥–æ, –≤—ã–ø–ª–∞—Ç—ã –∑–∞ 30 –ª–µ—Ç –ø–æ –∫—Ä–µ–¥–∏—Ç—É 4%% —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç %8s",
           Format.group_digits(credit_sum_total.to_i)
         )
  end
end

# A module that help to use method gets no matter what the file argument is
module InputHelper
  # Handle input method based on its file argument
  def gets
    ARGV.nil? ? Kernel.gets : $stdin.gets
  end
end

# –ó–∞–¥–∞–Ω–∏–µ 2: –Ω–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –≥–æ–¥–æ–≤–æ–π –∑–∞—Ä–ø–ª–∞—Ç—ã. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç
# —Ä–∞–∑–º–µ—Ä –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã –≤ –º–µ—Å—è—Ü, –∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–æ–¥–∏—Ç —Ä–∞–∑–º–µ—Ä –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã –≤ –≥–æ–¥.
# –î–æ–ø—É—Å—Ç–∏–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü —Ö–æ—á–µ—Ç –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å 15% —Å–≤–æ–µ–π –∑–∞—Ä–ø–ª–∞—Ç—ã.
# –ò–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, —á—Ç–æ–±—ã –æ–Ω–∞ –≤—ã–≤–æ–¥–∏–ª–∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ä –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã, –Ω–æ –∏
# —Ä–∞–∑–º–µ—Ä –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –∑–∞ –≥–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤. –ò–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, —á—Ç–æ–±—ã –æ–Ω–∞ –≤—ã–≤–æ–¥–∏–ª–∞ —Ä–∞–∑–º–µ—Ä
# –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∑–∞ 5 –ª–µ—Ç.
#
module StringInterpolation
  include InputHelper
  def self.salary
    puts "–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã –≤ –º–µ—Å—è—Ü"
    if ARGV[0].nil? == false
      salary = ARGV[0].to_i
      puts salary
    else
      salary = gets.to_i
    end
    # binding.pry
    puts format(
           "–†–∞–∑–º–µ—Ä –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã –≤ –≥–æ–¥ $ %s",
           Format.group_digits(salary * 12)
         )
    puts format(
           "–°—É–º–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∑–∞ 5 –ª–µ—Ç –∏–∑ —Ä–∞—Å—á–µ—Ç–∞ 15%% –æ—Ç –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã $ %s",
           Format.group_digits((salary * 12 * 5 * 0.15).to_i)
         )
  end
end

# Test input command line arguments
class TestARGV
  def initialize
    # inspect ARGV
    ARGV.each { |arg| puts arg }
    # puts "=" * 80
    # puts $*
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤
# –∫–æ–Ω—Å–æ–ª–∏. –ï—Å–ª–∏ –∏–º—è ‚Äúadmin‚Äù –∏ –ø–∞—Ä–æ–ª—å ‚Äú12345‚Äù, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω
# ‚Äú–î–æ—Å—Ç—É–ø –∫ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —è—á–µ–π–∫–µ —Ä–∞–∑—Ä–µ—à–µ–Ω‚Äù.
#
# –ó–∞–¥–∞–Ω–∏–µ: –∏–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –Ω–∞ –õ—É–Ω–µ –ø—Ä–æ–¥–∞—é—Ç —É—á–∞—Å—Ç–∫–∏. –õ—é–±–æ–π —É—á–∞—Å—Ç–æ–∫ –º–µ–Ω–µ–µ 50 –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö
# –º–µ—Ç—Ä–æ–≤ —Å—Ç–æ–∏—Ç 1000 –¥–æ–ª–ª–∞—Ä–æ–≤. –£—á–∞—Å—Ç–æ–∫ –ø–ª–æ—â–∞–¥—å—é –æ—Ç 50 –¥–æ 100 –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–æ–≤ —Å—Ç–æ–∏—Ç
# 1500 –¥–æ–ª–ª–∞—Ä–æ–≤. –û—Ç 100 –∏ –≤—ã—à–µ - –ø–æ 25 –¥–æ–ª–ª–∞—Ä–æ–≤ –∑–∞ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –º–µ—Ç—Ä. –ù–∞–ø–∏—à–∏—Ç–µ
# –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–ª–∏–Ω—É –∏ —à–∏—Ä–∏–Ω—É —É—á–∞—Å—Ç–∫–∞ –∏ –≤—ã–≤–æ–¥–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω –µ–≥–æ
# —Å—Ç–æ–∏–º–æ—Å—Ç—å.
#
# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É ‚Äú–∏–º–º–∏–≥—Ä–∞–Ω—Ç‚Äù. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–¥–∞–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ
# –≤–æ–ø—Ä–æ—Å—ã: ‚Äú–£ –≤–∞—Å –µ—Å—Ç—å –≤—ã—Å—à–µ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ? (y/n)‚Äù, ‚Äú–£ –≤–∞—Å –µ—Å—Ç—å –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã
# –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º? (y/n)‚Äù, ‚Äú–£ –≤–∞—Å –±–æ–ª–µ–µ —Ç—Ä–µ—Ö –ª–µ—Ç –æ–ø—ã—Ç–∞? (y/n)‚Äù. –ó–∞ –∫–∞–∂–¥—ã–π –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π
# –æ—Ç–≤–µ—Ç –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 1 –±–∞–ª–ª (–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å score). –ï—Å–ª–∏ –Ω–∞–±—Ä–∞–ª–æ—Å—å 2 –∏–ª–∏
# –±–æ–ª–µ–µ –±–∞–ª–ª–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω ‚Äú–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –°–®–ê‚Äù.
#
module CombinationOfConditions
  def self.access
    puts "–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω:"
    login = gets.chomp
    puts "–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:"
    password = gets.chomp
    return unless login == "admin" && password == "12345"

    puts "–î–æ—Å—Ç—É–ø –∫ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —è—á–µ–π–∫–µ —Ä–∞–∑—Ä–µ—à–µ–Ω"
  end

  def self.cost_of_land
    puts "–í–≤–µ–¥–∏—Ç–µ –¥–ª–∏–Ω—É —É—á–∞—Å—Ç–∫–∞ (–º)"
    length = gets.to_i
    puts "–í–≤–µ–¥–∏—Ç–µ —à–∏—Ä–∏–Ω—É —É—á–∞—Å—Ç–∫–∞ (–º)"
    width = gets.to_i
    square = length * width
    if square < 50
      puts "–°—Ç–æ–∏–º–æ—Å—Ç—å —É—á–∞—Å—Ç–∫–∞ $ 1000"
    elsif square <= 100
      puts "–°—Ç–æ–∏–º–æ—Å—Ç—å —É—á–∞—Å—Ç–∫–∞ $ 1500"
    else
      puts "–°—Ç–æ–∏–º–æ—Å—Ç—å —É—á–∞—Å—Ç–∫–∞ $ #{square * 25}"
    end
  end

  def self.immigrant
    points = 0
    puts "–£ –≤–∞—Å –µ—Å—Ç—å –≤—ã—Å—à–µ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ? (y/n)"
    points += 1 if gets.chomp! == "y"
    puts "–£ –≤–∞—Å –µ—Å—Ç—å –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º? (y/n)"
    points += 1 if gets.chomp! == "y"
    puts "–£ –≤–∞—Å –±–æ–ª–µ–µ —Ç—Ä–µ—Ö –ª–µ—Ç –æ–ø—ã—Ç–∞? (y/n)"
    points += 1 if gets.chomp! == "y"
    puts "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –°–®–ê" if points >= 2
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 500 –¥–æ 510.
# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ —Å –¥—Ä–æ–±—å—é –æ—Ç 0 –¥–æ
# 1. –ù–∞–ø—Ä–∏–º–µ—Ä, 0.54321 –∏–ª–∏ 0.123456
# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ —Å –¥—Ä–æ–±—å—é –æ—Ç 2 –¥–æ
# 4.
#
module RandomNumbers
  def self.random500510
    puts "—Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 500 –¥–æ 510."
    5.times { |_n| puts rand(500..510) }
  end

  def self.random01
    puts "—Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 1."
    5.times { |_n| puts rand(0.0..1.0) }
  end

  def self.random24
    puts "—Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 2 –¥–æ 4."
    5.times { |_n| puts rand(2.0..4.0) }
  end
end

# –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É ‚Äú—É–≥–∞–¥–∞–π —á–∏—Å–ª–æ‚Äù. –ö–æ–º–ø—å—é—Ç–µ—Ä –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —á–∏—Å–ª–æ, –∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω—É–∂–Ω–æ
# —ç—Ç–æ —á–∏—Å–ª–æ —É–≥–∞–¥–∞—Ç—å.
# –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 1_000_000 (1
# –º–∏–ª–ª–∏–æ–Ω–∞). –ß—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —É–≥–∞–¥–∞—Ç—å —ç—Ç–æ —á–∏—Å–ª–æ, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π
# –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∏—Å–∫–æ–º–æ–µ —á–∏—Å–ª–æ: 1) –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–æ–ª—å—à–µ, —Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞
# –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω ‚Äú–ò—Å–∫–æ–º–æ–µ —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ –≤–∞—à–µ–≥–æ –æ—Ç–≤–µ—Ç–∞‚Äù; 2) –∏–Ω–∞—á–µ ‚Äú–ò—Å–∫–æ–º–æ–µ
# —á–∏—Å–ª–æ –±–æ–ª—å—à–µ –≤–∞—à–µ–≥–æ –æ—Ç–≤–µ—Ç–∞‚Äù
#
module GuessTheNumber
  def self.guess11000000
    number = rand(1..1_000_000)
    print "–ü—Ä–∏–≤–µ—Ç! –Ø –∑–∞–≥–∞–¥–∞–ª —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 1_000_000, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —É–≥–∞–¥–∞—Ç—å: "
    loop do
      input = gets.to_i
      if number > input
        print "–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑: "
      elsif number < input
        print "–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑: "
      else
        puts "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –í—ã —É–≥–∞–¥–∞–ª–∏"
        exit
      end
    end
  end
end

# –í–∏–¥—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä–æ–≤
module Progressbar
  def self.type1
    puts "Progressbar type 1"
    print "Formatting hard drive"
    100.times do
      print "."
      sleep rand(0.05..0.5)
    end
    puts
  end

  def self.type2
    puts "Progressbar type 2"
    symbol_array = ["\\", "\|", "/", "-"]
    50.times do |n|
      # print "#{symbol_array[rand(0..3)]}\r"
      print "#{symbol_array[n % 4]}\r"
      sleep rand(0.05..0.5)
      # sleep 0.5
    end
    puts
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω –ø–∞—Ä–æ–ª—å, –Ω–æ –≤ –≤–∏–¥–µ –∑–≤–µ–∑–¥–æ—á–µ–∫.
# –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å ‚Äúsecret‚Äù, –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ ‚Äú–í–∞—à –ø–∞—Ä–æ–ª—å: ******‚Äù.
#
module InputPassword
  def self.password_mask
    print "–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: "
    password = gets.chomp
    puts "–í–∞—à –ø–∞—Ä–æ–ª—å: #{'*' * password.length}"
  end
end

# arr = [
#         %w[a b c],
#         %w[d e f],
#         %w[g h i]
#       ]
# –ó–∞–¥–∞–Ω–∏–µ: –æ–±–æ–π–¥–∏—Ç–µ –º–∞—Å—Å–∏–≤ –≤—ã—à–µ ‚Äú–≤—Ä—É—á–Ω—É—é‚Äù, –±–µ–∑ –ø–æ–º–æ—â–∏ —Ü–∏–∫–ª–æ–≤, –∫—Ä–µ—Å—Ç-–Ω–∞–∫—Ä–µ—Å—Ç, —Ç–∞–∫–∏–º
# –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω —Å—Ç—Ä–æ–∫—É ‚Äúaeiceg‚Äù (–ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–π–º–µ—Ç 6 —Å—Ç—Ä–æ–∫ - –ø–æ 1
# —Å—Ç—Ä–æ–∫–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞).
#
module MyArray
  def self.go_cross
    arr = [%w[a b c], %w[d e f], %w[g h i]]
    print arr[0][0], arr[1][1], arr[2][2], arr[0][2], arr[1][1], arr[2][0], "\n"
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: —Å–æ–∑–¥–∞–π—Ç–µ 2D –º–∞—Å—Å–∏–≤ —Ä–∞–∑–º–µ—Ä–æ–º 3 –Ω–∞ 3. –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –±—É–¥–µ—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ
# –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äúsomething‚Äù). –°–¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞ –±—ã–ª
# –∑–∞—â–∏—â–µ–Ω –æ—Ç ‚Äúupcase!‚Äù. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã –≤—ã–∑–æ–≤–µ–º `arr[2][2].upcase!`, —ç—Ç–æ—Ç –≤—ã–∑–æ–≤ –Ω–µ
# –∏–∑–º–µ–Ω–∏—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥—Ä—É–≥–∏—Ö —è—á–µ–µ–∫ –º–∞—Å—Å–∏–≤–∞.
#
module MyArray3
  def self.array_something
    arr = Array.new(3) { Array.new(3) { "something" } }
    print "#{arr}\n"
    arr[2][2] = arr[2][2].upcase
    print "#{arr}\n"
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –∫ –≤–∞–º –æ–±—Ä–∞—Ç–∏–ª—Å—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å –î–∂–æ–Ω –°–º–∏—Ç. –î–∂–æ–Ω –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –µ–≥–æ –±–∏–∑–Ω–µ—Å
# —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –¥–ª—è —Ä–µ–∫–ª–∞–º—ã. –û–Ω–∏ —Ö–æ—Ç—è—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å —Å
# –≤–∞–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –Ω–æ –ø—Ä–µ–∂–¥–µ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—ã —Ö–æ—Ä–æ—à–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç, –º–æ–∂–µ—Ç–µ
# —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏, –∏ –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ.
# –û–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç: —É –Ω–∞—Å –µ—Å—Ç—å –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ —Å –±—É–∫–≤–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –±–∏–∑–Ω–µ—Å–∞ –ø–æ –ø—Ä–æ–¥–∞–∂–µ
# –º–∞—Ç—Ä–∞—Å–æ–≤ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–æ–º–µ—Ä ‚Äú555-MATRESS‚Äù, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç—Å—è –≤ ‚Äú555-628-7377‚Äù.
# –ö–æ–≥–¥–∞ –Ω–∞—à–∏ –∫–ª–∏–µ–Ω—Ç—ã –Ω–∞–±–∏—Ä–∞—é—Ç –±—É–∫–≤–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (—Å–º.–∫–∞—Ä—Ç–∏–Ω–∫—É
# –Ω–∏–∂–µ), –æ–Ω —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç—Å—è –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–π. –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å
# (—Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å) —Å–ª–æ–≤–æ –±–µ–∑ –¥–µ—Ñ–∏—Å–æ–≤ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä.
#
module LettersToPhoneTranslator
  def self.phone_to_number(phone)
    result = ""
    arr_phone_numbers = %w(
      [0-9]
      [ABC]
      [DEF]
      [GHI]
      [JKL]
      [MNO]
      [PQRS]
      [TUV]
      [WXYZ]
    )
    phone.upcase.each_char do |char|
      arr_phone_numbers.each_index do |index|
        next unless char =~ /#{arr_phone_numbers[index]}/

        result += (index.zero? ? char : (index + 1).to_s)
        break
      end
    end
    puts result
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ –∏–≥—Ä—É ‚Äú–∫–∞–º–µ–Ω—å, –Ω–æ–∂–Ω–∏—Ü—ã, –±—É–º–∞–≥–∞‚Äù (`[:rock, :scissors, :paper]`).
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç —Å–≤–æ–π –≤—ã–±–æ—Ä –∏ –∏–≥—Ä–∞–µ—Ç —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º.
#
module RockPaperScissors
  def self.start_game
    # arr_units = %i[rock scissors paper]
    arr_emoji = %i[ü§õ ‚úåÔ∏è ü§ö]
    user_choice = nil
    computer_choice = nil
    user_points = 0
    computer_points = 0
    loop do
      system "clear"
      print "User: #{user_points} PC: #{computer_points}\n"
      print "(R)ock, (S)cissors, (P)aper?: "
      s = gets.strip.capitalize
      case s
      when "R"
        user_choice = arr_emoji[0]
      when "S"
        user_choice = arr_emoji[1]
      when "P"
        user_choice = arr_emoji[2]
      else
        puts "–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
        break
      end
      puts "–í–∞—à –≤—ã–±–æ—Ä #{user_choice}"
      computer_choice = arr_emoji.sample
      puts "–í—ã–±–æ—Ä –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ #{computer_choice}"
      diff = arr_emoji.index(user_choice) - arr_emoji.index(computer_choice)
      if [-1, 2].include?(diff)
        user_points += 1
        puts "–ü–æ–±–µ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
      elsif [1, -2].include?(diff)
        computer_points += 1
        puts "–ü–æ–±–µ–¥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞"
      else
        puts "–ù–∏—á—å—è"
      end
      print "–ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞—É–Ω–¥–∞ –∏–ª–∏ x –¥–ª—è –≤—ã—Ö–æ–¥–∞: "
      s = gets.strip.capitalize
      if s == "X"
        puts "–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
        break
      end
    end
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ö–µ—à –≤–∏–¥–∞:
# ```
# obj = {
# soccer_ball: 410,
# tennis_ball: 58,
# golf_ball: 45
# }
# ```
# –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç —ç—Ç–æ—Ç —Ö–µ—à –¥–ª—è —É—Å–ª–æ–≤–∏–π –Ω–∞ –õ—É–Ω–µ. –ò–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –≤–µ—Å –Ω–∞
# –ª—É–Ω–µ –≤ 6 —Ä–∞–∑ –º–µ–Ω—å—à–µ, —á–µ–º –≤–µ—Å –Ω–∞ –ó–µ–º–ª–µ.
#
module ShoppingCartOnTheMoon
  module_function

  def default_shopping_cart
    { soccer_ball: 410, tennis_ball: 58, golf_ball: 45 }
  end

  def weight_on_the_moon(shopping_cart = default_shopping_cart)
    puts shopping_cart.inspect
    shopping_cart.each_key { |key| shopping_cart[key] /= 6 }
    puts shopping_cart.inspect
  end
  # module_function :default_shopping_cart
end

# –ó–∞–¥–∞–Ω–∏–µ: ‚Äú–ª—É–Ω–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω‚Äù. –ò—Å–ø–æ–ª—å–∑—É—è —Ö–µ—à —Å –Ω–æ–≤—ã–º –≤–µ—Å–æ–º –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
# –Ω–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫–æ–µ
# –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º—è—á–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—Ç–µ–ª –±—ã –∫—É–ø–∏—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω–µ (–≤–≤–æ–¥ —á–∏—Å–ª–∞ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏). –í
# –∫–æ–Ω—Ü–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–¥–∞–µ—Ç –æ–±—â–∏–π –≤–µ—Å –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ. –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
# –¥–æ–ª–∂–Ω–∞ —Ç–∞–∫–∂–µ –≤—ã–¥–∞–≤–∞—Ç—å –æ–±—â–∏–π –≤–µ—Å –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤, –µ—Å–ª–∏ –±—ã –æ–Ω–∏ –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –Ω–∞ –ó–µ–º–ª–µ.
#
module ShoppingCart
  module_function

  # include ShoppingCartOnTheMoon
  def input_shopping_cart
    default_cart = ShoppingCartOnTheMoon.default_shopping_cart
    puts "–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ 1 —à—Ç –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–∞: #{default_cart.inspect}"
    puts "–í–µ—Å –∫–æ—Ä–∑–∏–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: #{default_cart.values.inject(0, :+)}"
    cart = {}
    default_cart.each do |key, value|
      print "–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º—è—á–µ–π –≤–∏–¥–∞ #{key}: "
      cart[key] = gets.to_i * value
    end
    puts "–í–µ—Å –∫–æ—Ä–∑–∏–Ω—ã –Ω–∞ –ó–µ–º–ª–µ: #{cart.values.inject(0, :+)}"
    puts "–í–µ—Å –∫–æ—Ä–∑–∏–Ω—ã –Ω–∞ –õ—É–Ω–µ: #{cart.values.inject(0) { |sum, n| sum + n / 6 }}"
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Å–ª–µ–¥—É—é—â–∏–º –º–∞—Å—Å–∏–≤–æ–º
# (qty - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—Ü —Ç–æ–≤–∞—Ä–∞, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –∫—É–ø–∏—Ç—å, type - —Ç–∏–ø):
# ```
# cart = [
# { type: :soccer_ball, qty: 2 },
# { type: :tennis_ball, qty: 3 }
# ]
# ```
# –ê –Ω–∞–ª–∏—á–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ —Å–ª–µ–¥—É—é—â–∏–º —Ö–µ—à–µ–º:
# ```
# inventory = {
# soccer_ball: { available: 2, price_per_item: 100 },
# tennis_ball: { available: 1, price_per_item: 30 },
# golf_ball: { available: 5, price_per_item: 5 }
# }
# –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω —Ü–µ–Ω—É –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ (total), –∞
# —Ç–∞–∫–∂–µ —Å–æ–æ–±—â–∞–µ—Ç - –≤–æ–∑–º–æ–∂–Ω–æ –ª–∏ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –Ω–∞–±—Ä–∞—Ç—å –≤—Å–µ –µ–¥–∏–Ω–∏—Ü—ã
# —Ç–æ–≤–∞—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥–µ.
#
module CartCost
  module_function

  def user_cart
    [{ type: :soccer_ball, qty: 2 }, { type: :tennis_ball, qty: 3 }]
  end

  def inventory
    {
      soccer_ball: {
        available: 2,
        price_per_item: 100
      },
      tennis_ball: {
        available: 4,
        price_per_item: 30
      },
      golf_ball: {
        available: 5,
        price_per_item: 5
      }
    }
  end

  def cart_available?
    user_cart.inject(true) do |available, hash|
      user_cart_available(available, hash)
    end
  end

  def cart_cost
    user_cart.inject(0) { |sum, hash| user_cart_sum(sum, hash) }
  end

  def user_cart_sum(sum, hash)
    sum + inventory[hash[:type]][:price_per_item] * hash[:qty]
  end

  def user_cart_available(available, hash)
    available && inventory[hash[:type]][:available] >= hash[:qty]
  end

  def display_payment
    puts "–¢–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω–µ #{user_cart}"
    if cart_available?
      puts "–¢–æ–≤–∞—Ä –µ—Å—Ç—å –≤ –Ω–∞–ª–∏—á–∏–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ"
      puts "–°—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–∞ #{cart_cost}$"
    else
      puts "–¢–æ–≤–∞—Ä–∞ –Ω–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ"
    end
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ —Ö–µ—à, –∫–æ—Ç–æ—Ä—ã–π –±—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
# —Å–º. —Ä–∏—Å. –Ω–∞ —Å—Ç—Ä. 152
#
# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ö–µ—à, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤
# –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–µ, –∏ –≤—ã–≤–æ–¥–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ —ç–∫—Ä–∞–Ω. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å
# —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –≤—ã–≤–æ–¥–∏—Ç –ø—Ä–∏—Ö–æ–¥, –µ—Å–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∫–ª—é—á–µ–Ω.
#
module BankOnline
  module_function

  def state_view
    {
      client: "–ì–µ—Ä–º–∞–Ω –û—Å–∫–∞—Ä–æ–≤–∏—á –ë–ª–æ–∫—á–µ–π–Ω",
      balance: 123.45,
      display_receipt: true,
      transactions: [
        { description: "–°–∞–ø–æ–≥–∏", type: :consumption, sum: 40 },
        { description: "–ó–∞—Ä–ø–ª–∞—Ç–∞ (–∫–æ–º–ø–∞–Ω–∏—è –ë–õ–ò–ñ–ü)", type: :coming, sum: 1000 },
        { description: "–ü—Ä–æ–¥–∞–∂–∞ –≤–∞—É—á–µ—Ä–∞", type: :coming, sum: 300 },
        { description: "–í–µ–ª–æ—Å–∏–ø–µ–¥", type: :consumption, sum: 200 },
        { description: "–ü—Ä–æ—Ç–µ–∑ –¥–ª—è –Ω–æ–≥–∏ –±–∞–±—É—à–∫–µ", type: :consumption, sum: 300 }
      ]
    }
  end

  def print_state_view
    state = state_view
    state[:transactions].filter! do |item|
      state[:display_receipt] ? item[:type] == :consumption : true
    end
    # puts JSON.pretty_generate state
    ap state
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ ‚Äú—Å–ª–æ–∂–Ω—ã–π‚Äù –∞–Ω–≥–ª–æ-—Ä—É—Å—Å–∫–∏–π —Å–ª–æ–≤–∞—Ä—å, –≥–¥–µ –∫–∞–∂–¥–æ–º—É –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —Å–ª–æ–≤—É
# –º–æ–∂–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: cat —ç—Ç–æ ‚Äú–∫–æ—Ç‚Äù, ‚Äú–∫–æ—à–∫–∞‚Äù).
#
module Dictionary
  module_function

  def dictionary_data
    { cat: %w[–∫–æ—Ç –∫–æ—à–∫–∞], girl: %w[–¥–µ–≤–æ—á–∫–∞ –¥–µ–≤—É—à–∫–∞], dog: %w[—Å–æ–±–∞–∫–∞ –ø–µ—Å] }
  end

  def transactions
    dict = dictionary_data
    print "–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ: "
    input = gets.chomp.to_sym
    # input = 'girl'
    puts "–ü–µ—Ä–µ–≤–æ–¥: #{dict[input].join(', ')}"
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –∑–∞–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (—Ö–µ—à) —Å–≤–æ–∏—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞ (—Ñ–∞–º–∏–ª–∏—è)
# –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–∞–Ω–æ —Ç—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: email, cell_phone (–Ω–æ–º–µ—Ä –º–æ–±.—Ç–µ–ª–µ—Ñ–æ–Ω–∞), work_phone
# (–Ω–æ–º–µ—Ä —Ä–∞–±–æ—á–µ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞). –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ñ–∞–º–∏–ª–∏—é –∏
# –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
#
module ContactsDataBase
  module_function

  def contacts_data
    {
      "–ò–≤–∞–Ω–æ–≤": {
        email: "ivanov777@gmail.com",
        cell_phone: "22222",
        work_phone: "333333"
      },
      "–ü–µ—Ç—Ä–æ–≤": {
        email: "petrov555@gmail.com",
        cell_phone: "444444",
        work_phone: "555555"
      },
      "–°–∏–¥–æ—Ä–æ–≤": {
        email: "sidorov333@gmail.com",
        cell_phone: "6666666",
        work_phone: "7777777"
      }
    }
  end

  def contact_data
    data = contacts_data
    print "–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é: "
    input = gets.chomp
    puts "–§–ò–û: #{input}"
    puts "email: #{data[input.to_sym][:email]}"
    puts "–Ω–æ–º–µ—Ä –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞: #{data[input.to_sym][:cell_phone]}"
    puts "–Ω–æ–º–µ—Ä —Ä–∞–±–æ—á–µ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞: #{data[input.to_sym][:work_phone]}"
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è —Å—á–∏—Ç–∞–µ—Ç —á–∞—Å—Ç–æ—Ç–Ω–æ—Å—Ç—å –±—É–∫–≤ –∏ –≤—ã–≤–æ–¥–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω
# —Å–ø–∏—Å–æ–∫ –±—É–∫–≤ –∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏.
#
module FrequencyOfLetters
  module_function

  def frequence
    puts "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç"
    input = gets.chomp
    freq_hash =
      input
      .split("")
      .each_with_object(Hash.new(0)) do |item, hash|
        hash[item.to_sym] += 1 if item =~ /[a-zA-Z]/
      end
    puts "–°–ø–∏—Å–æ–∫ –±—É–∫–≤ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏"
    ap freq_hash
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –¶–µ–Ω—Ç—Ä –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ü–æ–ª–µ—Ç–∞–º–∏ –ø–æ—Ä—É—á–∏–ª –≤–∞–º –∑–∞–¥–∞–Ω–∏–µ –Ω–∞–ø–∏—Å–∞—Ç—å –º–µ—Ç–æ–¥ "launch" (–æ—Ç
# –∞–Ω–≥–ª. ‚Äú–∑–∞–ø—É—Å–∫‚Äù), –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∞–±–æ—Ä –æ–ø—Ü–∏–π –≤ –≤–∏–¥–µ —Ö–µ—à–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ –∫–æ—Å–º–æ—Å
# –∞—Å—Ç—Ä–æ–Ω–∞–≤—Ç–æ–≤ ‚Äú–ë–µ–ª–∫—É‚Äù –∏/–∏–ª–∏ ‚Äú–°—Ç—Ä–µ–ª–∫—É‚Äù. –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
# ‚óè `angle` - —É–≥–æ–ª –∑–∞–ø—É—Å–∫–∞ —Ä–∞–∫–µ—Ç—ã. –ï—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω, —Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–Ω–æ 90
# (–≥—Ä–∞–¥—É—Å–æ–≤)
# ‚óè `astronauts` - –º–∞—Å—Å–∏–≤ —Å–∏–º–≤–æ–ª–æ–≤ (:belka, :strelka), –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω, —Ç–æ –≤ –∫–æ—Å–º–æ—Å –Ω—É–∂–Ω–æ
# –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏ –ë–µ–ª–∫—É, –∏ –°—Ç—Ä–µ–ª–∫—É.
# ‚óè `delay` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—É–Ω–¥ —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∫–µ—Ç—É, –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–æ, —Ç–æ
# —Ä–∞–≤–Ω–æ –ø—è—Ç–∏
# –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≤–µ—Å—Ç–∏ –ø–æ–¥—Å—á–µ—Ç –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –¥–æ –∑–∞–ø—É—Å–∫–∞ —Å–µ–∫—É–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: ‚Äú–û—Å—Ç–∞–ª–æ—Å—å —Å–µ–∫—É–Ω–¥:
# 5 4 3 2 1‚Äù). –ü–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏, –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≤—ã–≤–æ–¥–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, –∫–∞–∫–æ–π
# –∞—Å—Ç—Ä–æ–Ω–∞–≤—Ç (–∞—Å—Ç—Ä–æ–Ω–∞–≤—Ç—ã) –∑–∞–ø—É—â–µ–Ω—ã, –∞ —Ç–∞–∫–∂–µ –ø–æ–¥ –∫–∞–∫–∏–º —É–≥–ª–æ–º –±—ã–ª–∞ –∑–∞–ø—É—â–µ–Ω–∞ —Ä–∞–∫–µ—Ç–∞. –ú–µ—Ç–æ–¥
# –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–Ω–æ–ª—å, –æ–¥–∏–Ω, –¥–≤–∞, —Ç—Ä–∏). –í–æ–∑–º–æ–∂–Ω—ã–µ
# –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞:
# ‚óè `launch`
# ‚óè `launch(angle: 91)`
# ‚óè `launch(delay: 3)`
# ‚óè `launch(delay: 3, angle: 91)`
# ‚óè `launch(astronauts: [:belka])`
# ‚óè –∏ —Ç.–¥.
#
module SpaceControlCenter
  module_function

  def launch(options = {})
    angle = options[:angle] || 90
    astronauts = options[:astronauts] || %i[belka strelka]
    delay = options[:delay] || 5
    print "–û—Å—Ç–∞–ª–æ—Å—å —Å–µ–∫—É–Ω–¥:  "
    sleep 1
    delay.downto(1) do |i|
      print "\b#{i}"
      sleep 1
    end
    print "\b0\n"
    puts "–ó–∞–ø—É—â–µ–Ω—ã –∞—Å—Ç—Ä–æ–Ω–∞–≤—Ç—ã: #{astronauts.join(', ')}"
    puts "–†–∞–∫–µ—Ç–∞ –∑–∞–ø—É—â–µ–Ω–∞ –ø–æ–¥ —É–≥–ª–æ–º: #{angle}"
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –∏–º–µ—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:
# data = {
# soccer_ball: { name: '–§—É—Ç–±–æ–ª—å–Ω—ã–π –º—è—á', weight: 410, qty: 5 },
# tennis_ball: { name: '–ú—è—á –¥–ª—è —Ç–µ–Ω–Ω–∏—Å–∞', weight: 58, qty: 10 },
# golf_ball: { name: '–ú—è—á –¥–ª—è –≥–æ–ª—å—Ñ–∞', weight: 45, qty: 15 }
# }
# –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω:
# –ù–∞ —Å–∫–ª–∞–¥–µ –µ—Å—Ç—å:
# –§—É—Ç–±–æ–ª—å–Ω—ã–π –º—è—á, –≤–µ—Å 410 –≥—Ä–∞–º–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: 5 —à—Ç.
# –ú—è—á –¥–ª—è —Ç–µ–Ω–Ω–∏—Å–∞, –≤–µ—Å 58 –≥—Ä–∞–º–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: 10 —à—Ç.
# –ú—è—á –¥–ª—è –≥–æ–ª—å—Ñ–∞, –≤–µ—Å 45 –≥—Ä–∞–º–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: 15 —à—Ç.
#
module Warehouse
  module_function

  def initial_balance_of_goods
    {
      soccer_ball: {
        name: "–§—É—Ç–±–æ–ª—å–Ω—ã–π –º—è—á",
        weight: 410,
        qty: 5
      },
      tennis_ball: {
        name: "–ú—è—á –¥–ª—è —Ç–µ–Ω–Ω–∏—Å–∞",
        weight: 58,
        qty: 10
      },
      golf_ball: {
        name: "–ú—è—á –¥–ª—è –≥–æ–ª—å—Ñ–∞",
        weight: 45,
        qty: 15
      }
    }
  end

  def availability_of_goods
    goods = initial_balance_of_goods
    puts "–ù–∞ —Å–∫–ª–∞–¥–µ –µ—Å—Ç—å:"
    puts "–§—É—Ç–±–æ–ª—å–Ω—ã–π –º—è—á, –≤–µ—Å #{goods[:soccer_ball][:weight]} –≥—Ä–∞–º–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: #{goods[:soccer_ball][:qty]} —à—Ç."
    puts "–ú—è—á –¥–ª—è —Ç–µ–Ω–Ω–∏—Å–∞, –≤–µ—Å #{goods[:tennis_ball][:weight]} –≥—Ä–∞–º–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: #{goods[:tennis_ball][:qty]} —à—Ç."
    puts "–ú—è—á –¥–ª—è –≥–æ–ª—å—Ñ–∞, –≤–µ—Å #{goods[:golf_ball][:weight]} –≥—Ä–∞–º–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: #{goods[:golf_ball][:qty]} —à—Ç."
  end
end

# –ó–∞–¥–∞–Ω–∏–µ: –Ω–∞–ø–∏—à–∏—Ç–µ –∫–ª–∞—Å—Å Monkey (‚Äú–æ–±–µ–∑—å—è–Ω–∫–∞‚Äù). –í –∫–ª–∞—Å—Å–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 1) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
# –¥–≤–∞ –º–µ—Ç–æ–¥–∞: run, stop; 2) –∫–∞–∂–¥—ã–π –∏–∑ –º–µ—Ç–æ–¥–æ–≤ –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞; 3) you
# must expose the state of an object —Ç–∞–∫, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —É–∑–Ω–∞—Ç—å –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫–ª–∞—Å—Å–∞
# —Å–Ω–∞—Ä—É–∂–∏, –Ω–æ –Ω–µ–ª—å–∑—è –±—ã–ª–æ –µ–≥–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å (–∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Ç–æ—á–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
# —è–∑—ã–∫ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ ‚Äúexpose the state‚Äù –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ —Å–ª–æ–≤–∞ ‚Äúexpose‚Äù –≤
# —Å–ª–æ–≤–∞—Ä–µ). –°–æ–∑–¥–∞–π—Ç–µ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ Monkey, –≤—ã–∑–æ–≤–∏—Ç–µ –º–µ—Ç–æ–¥—ã –æ–±—ä–µ–∫—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ
# —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã.

# –ó–∞–¥–∞–Ω–∏–µ: —Å–¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ Monkey —ç–∫–∑–µ–º–ø–ª—è—Ä—É
# –ø—Ä–∏—Å–≤–∞–∏–≤–∞–ª–æ—Å—å —Å–ª—É—á–∞–π–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –°–æ–∑–¥–∞–π—Ç–µ –º–∞—Å—Å–∏–≤ –∏–∑ –¥–µ—Å—è—Ç–∏ –æ–±–µ–∑—å—è–Ω–æ–∫. –í—ã–≤–µ–¥–∏—Ç–µ
# —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞ –Ω–∞ —ç–∫—Ä–∞–Ω.
#
class Monkey
  attr_reader :state

  def initialize
    # @state = :stop
    @state = %i[stop run].sample
  end

  def run
    self.state = :run
  end

  def stop
    self.state = :stop
  end
end

# BlocksNParameters.annual_payment
# StringInterpolation.salary
# TestARGV.new
# CombinationOfConditions.access
# CombinationOfConditions.cost_of_land
# CombinationOfConditions.immigrant
# RandomNumbers.random500510
# RandomNumbers.random01
# RandomNumbers.random24
# GuessTheNumber.guess11000000
# Progressbar.type1
# Progressbar.type2
# InputPassword.password_mask
# MyArray.go_cross
# MyArray3.array_something
# LettersToPhoneTranslator.phone_to_number("555MATRESS")
# RockPaperScissors.start_game
# ShoppingCartOnTheMoon.weight_on_the_moon
# ShoppingCart.input_shopping_cart
# CartCost.display_payment
# BankOnline.print_state_view
# Dictionary.transactions
# ContactsDataBase.contact_data
# FrequencyOfLetters.frequence
# SpaceControlCenter.launch
# SpaceControlCenter.launch(angle: 91)
# SpaceControlCenter.launch(delay: 3)
# SpaceControlCenter.launch(delay: 3, angle: 91)
# SpaceControlCenter.launch(astronauts: [:belka])
# Warehouse.availability_of_goods
# m = Monkey.new
# puts m.state
# m.run
# puts m.state
arr = Array.new(10) { Monkey.new }
arr.each { |item| puts item.state }
