# frozen_string_literal: true

# –ó–∞–¥–∞–Ω–∏–µ:  –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à—É—é –∏–≥—Ä—É "–±–∏—Ç–≤–∞ —Ä–æ–±–æ—Ç–æ–≤". –í–æ–∑—å–º–µ–º
# 20 —Ä–æ–±–æ—Ç–æ–≤ –∏ —Ä–∞–∑–¥–µ–ª–∏–º –∏—Ö –Ω–∞ 2 –∫–æ–º–∞–Ω–¥—ã, –≤ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥–µ –ø–æ 10. –ö–∞–∂–¥—É—é –∫–æ–º–∞–Ω–¥—É –±—É–¥–µ—Ç
# –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ —Ä–∞–∑–º–µ—Ä–æ–º 10. –Ø—á–µ–π–∫–∞ –º–∞—Å—Å–∏–≤–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–≤–∞
# –∑–Ω–∞—á–µ–Ω–∏—è:
# ‚óè –ù–æ–ª—å - –∫–æ–≥–¥–∞ —Ä–æ–±–æ—Ç —É–Ω–∏—á—Ç–æ–∂–µ–Ω
# ‚óè –ï–¥–∏–Ω–∏—Ü–∞ - –∫–æ–≥–¥–∞ —Ä–æ–±–æ—Ç –µ—â–µ –∂–∏–≤
# –û–±—ä—è–≤–∏–º –¥–≤–∞ –º–∞—Å—Å–∏–≤–∞. –ï–¥–∏–Ω–∏—Ü–∞ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –º—ã –æ–±—ä—è–≤–ª—è–µ–º –º–∞—Å—Å–∏–≤—ã —Å –∂–∏–≤—ã–º–∏
# —Ä–æ–±–æ—Ç–∞–º–∏:
# ```
# arr1 = Array.new(10, 1)
# arr2 = Array.new(10, 1)
# ```
# –ö–∞–∂–¥—ã–µ –∫–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç —Å—Ç—Ä–µ–ª—è—Ç—å –ø–æ-–æ—á–µ—Ä–µ–¥–∏. –û–ø—Ä–µ–¥–µ–ª–∏–º—Å—è —Å —Ç–µ—Ä–º–∏–Ω–æ–º ‚Äú—Å—Ç—Ä–µ–ª—è—Ç—å‚Äù, —á—Ç–æ —ç—Ç–æ
# –∑–Ω–∞—á–∏—Ç? –ï—Å–ª–∏ –Ω–æ–ª—å –≤ –º–∞—Å—Å–∏–≤–µ —ç—Ç–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–Ω—ã–π —Ä–æ–±–æ—Ç, –∞ –µ–¥–∏–Ω–∏—Ü–∞ - –∂–∏–≤–æ–π, —Ç–æ —Å—Ç—Ä–µ–ª—è—Ç—å
# –∑–Ω–∞—á–∏—Ç ‚Äú–∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å –µ–¥–∏–Ω–∏—Ü—ã –Ω–∞ –Ω–æ–ª—å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —è—á–µ–π–∫–∏ –º–∞—Å—Å–∏–≤–∞‚Äù. –ù–æ –∫–∞–∫
# –º—ã –±—É–¥–µ–º –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–∞–∫—É—é —è—á–µ–π–∫—É –º–µ–Ω—è—Ç—å? –¢—É—Ç –µ—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:
# –ù–∞–º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ –≤—ã–±–∏—Ä–∞—Ç—å –∏–Ω–¥–µ–∫—Å –æ—Ç 0 –¥–æ 9 –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Å–ª—É—á–∞–π–Ω–æ. –°–ª—É—á–∞–π–Ω–æ—Å—Ç—å
# –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ç–æ–≥–æ, —á—Ç–æ –∏–Ω–¥–µ–∫—Å –Ω–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è. –ü–æ—ç—Ç–æ–º—É –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –º–æ–∂–µ—Ç
# "—Å—Ç—Ä–µ–ª—å–Ω—É—Ç—å" –ø–æ –æ–¥–Ω–æ–º—É –∏ —Ç–æ–º—É –∂–µ –º–µ—Å—Ç—É. –ù–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –ø—è—Ç—å —Ö–æ–¥–æ–≤ –≤—Ç–æ—Ä–∞—è
# –∫–æ–º–∞–Ω–¥–∞ –±—å–µ—Ç –≤ –ø—è—Ç—É—é —è—á–µ–π–∫—É, –∞ –≤—ã—Å—Ç—Ä–µ–ª –ø–æ –Ω–µ–π —É–∂–µ –±—ã–ª –¥–æ —ç—Ç–æ–≥–æ. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ,
# –≤—ã—Å—Ç—Ä–µ–ª –Ω–µ –ø–æ–ø–∞–ª –≤ —Ü–µ–ª—å, —è—á–µ–π–∫–∞ —É–∂–µ —Ä–∞–≤–Ω–∞ –Ω—É–ª—é, –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–±–∏—Ç—ã—Ö —Ä–æ–±–æ—Ç–æ–≤ –Ω–µ
# –∏–∑–º–µ–Ω–∏–ª–æ—Å—å. –¢.–µ. —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–∂–µ–Ω–∏—è –∑–∞—Ä–∞–Ω–µ–µ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω –∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç
# –≤–µ–∑–µ–Ω–∏—è.
# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ. –í–º–µ—Å—Ç–æ 1 —ç–º–æ–¥–∑–∏ —Ä–æ–±–æ—Ç–æ–≤ –∏ –ª—é–¥–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –±–ª–æ–∫ 4 —Ö 4 —ç–º–æ–¥–∑–∏
# –∏ –ø—Ä–∏ —É–¥–∞—Ä–µ —É–Ω–∏—á—Ç–æ–∂–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 1..16 —ç–º–æ–¥–∑–∏ –∏–∑ –±–ª–æ–∫–∞. –í –¥–∞–ª—å–Ω–µ–π—à–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å
# –≤–µ—Å—å –±–ª–æ–∫ 4 —Ö 4 –Ω–æ –±–µ–∑ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö —ç–º–æ–¥–∑–∏
module RobotBattle
  def self.start_game
    system "clear"
    robots = Array.new(10, 1)
    humans = Array.new(10, 1)
    arr_emoji = %w[ü§ñ üë®]
    loop do
      rand_index = rand(0..9)
      1.upto(9) do |line_number|
        robots.each { |item| print(item.zero? ? "  " : arr_emoji[0]) }
        1.upto(8) do |empty_line_number|
          print %(\n#{'  ' * rand_index}#{empty_line_number == line_number ? '‚öΩ' : ''})
        end
        print "\n"
        humans[rand_index] = 0 if line_number == 9
        humans.each_index do |index|
          unit = if humans[index].zero? && line_number == 9 && index == rand_index
                   '‚öΩ'
                 elsif humans[index].zero?
                   '  '
                 else
                   arr_emoji[1]
                 end
          print unit
        end
        sleep 0.3
        system 'clear'
      end

      if humans.sum.zero?
        puts "–†–æ–±–æ—Ç—ã –ø–æ–±–µ–¥–∏–ª–∏"
        break
      end
      if robots.sum.zero?
        puts "–õ—é–¥–∏ –ø–æ–±–µ–¥–∏–ª–∏"
        break
      end

      rand_index = rand(0..9)
      9.downto(0) do |line_number|
        robots[rand_index] = 0 if line_number.zero?
        robots.each_index do |index|
          unit = if robots[index].zero? && line_number.zero? && index == rand_index
                   '‚öΩ'
                 elsif robots[index].zero?
                   '  '
                 else
                   arr_emoji[0]
                 end
          print unit
        end
        1.upto(8) do |empty_line_number|
          print %(\n#{'  ' * rand_index}#{empty_line_number == line_number ? '‚öΩ' : ''})
        end
        print "\n"
        humans.each { |item| print(item.zero? ? "  " : arr_emoji[1]) }
        sleep 0.3
        system 'clear'
      end
      if humans.sum.zero?
        puts "–†–æ–±–æ—Ç—ã –ø–æ–±–µ–¥–∏–ª–∏"
        break
      end
      if robots.sum.zero?
        puts "–õ—é–¥–∏ –ø–æ–±–µ–¥–∏–ª–∏"
        break
      end
      sleep 0.3
      system "clear"
    end
  end
end

RobotBattle.start_game
